(this.webpackJsonpsolidapp=this.webpackJsonpsolidapp||[]).push([[0],{119:function(e,t,n){"use strict";(function(e){var r=n(2),a=n(8),c=n.n(a),i=n(23),o=n(12),s=n(16),l=(n(154),n(0)),u=n(120),d=n.n(u),j=n(228),b=n(220),f=n(226),p=n(219),O=n(221),m=n(225),h=n(138),x=n(43),v=(n(174),n(222)),y=n(223),g=n(70),w=n(126),N=n(135),S=n(134),k=n(85),C=n(44),F=n(69),L=n(30),R=new(n(61))(L);function I(){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.currentSession();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(){var t=Object(l.useState)([]),n=Object(o.a)(t,2),a=n[0],u=n[1],E=Object(l.useState)(!1),U=Object(o.a)(E,2),A=U[0],D=U[1],P=Object(l.useState)([]),T=Object(o.a)(P,2),z=T[0],B=T[1],M=Object(l.useState)([]),W=Object(o.a)(M,2),H=W[0],q=W[1],J=Object(l.useState)(0),V=Object(o.a)(J,2),Z=V[0],K=V[1],X=Object(l.useState)(void 0),Y=Object(o.a)(X,2),G=Y[0],Q=Y[1],$=Object(l.useState)(!1),_=Object(o.a)($,2),ee=_[0],te=_[1],ne=Object(l.useState)(!0),re=Object(o.a)(ne,2),ae=re[0],ce=re[1],ie=Object(l.useState)(void 0),oe=Object(o.a)(ie,2),se=oe[0],le=oe[1],ue=Object(l.useState)(1),de=Object(o.a)(ue,2),je=de[0],be=de[1],fe=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)(t);case 2:return n=e.sent,r=n.getSubject(t),a=r.getString(S.a.name),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(e){return e&&e.split("/").slice(0,3).join("/")},Oe=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.popupLogin({popupUri:"popup.html"});case 2:(null===(t=e.sent)||void 0===t?void 0:t.webId)&&Q(t.webId);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t);case 2:n=e.sent,le(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve();case 2:Q(void 0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:(t=e.sent)&&Q(t.webId);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){xe()}),[]),Object(l.useEffect)((function(){G&&me(G)}),[G]);var ve=function(){return L.logout()};return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(j.a,{style:{zIndex:9999},open:A,children:Object(r.jsx)(b.a,{color:"inherit"})}),Object(r.jsx)("div",{children:G?Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"nav-info",children:[Object(r.jsxs)(k.a,{style:{marginRight:"20px"},color:"secondary",children:["Welcome back, ",se]}),Object(r.jsx)(C.a,{className:"nav-name",variant:"contained",color:"secondary",onClick:he,children:"Logout"})]}),Object(r.jsxs)(x.d,{selectedIndex:Z,onSelect:function(e){return K(e)},children:[Object(r.jsxs)(x.b,{children:[Object(r.jsx)(x.a,{children:"Input"}),Object(r.jsx)(x.a,{children:"Output"})]}),Object(r.jsxs)(x.c,{children:[Object(r.jsxs)("div",{className:"nav",children:[Object(r.jsx)(F.a,{type:"file",rootUrl:pe(G),isModalOpen:ee,modalClose:function(){return te(!1)},modalConfirm:function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.readFile(t);case 2:n=e.sent,r=t.substring(t.lastIndexOf("/")+1,t.length),(o=new File([n],r)).mimetype=n.type.includes("octet-stream")?"image/png":n.type,u([].concat(Object(i.a)(a),[o]));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(r.jsx)(f.a,{className:"nav-e",htmlFor:"standard-adornment-amount",children:"Distance"}),Object(r.jsx)(p.a,{id:"standard-adornment-weight",className:"nav-e",style:{width:"70px"},value:je,onChange:function(e){return be(e.target.value)},endAdornment:Object(r.jsx)(O.a,{position:"end",children:"mm"}),"aria-describedby":"standard-weight-helper-text",inputProps:{"aria-label":"weight"}})," ",Object(r.jsx)("input",{className:"nav-e",type:"file",id:"file",name:"file",style:{display:"none"},multiple:!0,onChange:function(e){u([].concat(Object(i.a)(a),Object(i.a)(e.target.files)))}}),Object(r.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){return te(!ae)},children:ae?Object(r.jsx)("label",{htmlFor:"file",children:"Load File From Local"}):"Load File From Solid"}),Object(r.jsxs)(m.a,{className:"select-store-file nav-e",labelId:"demo-simple-select-label",id:"demo-simple-select",value:"",onChange:function(e){ce(e.target.value)},children:[Object(r.jsx)(h.a,{value:!1,children:"Load File From Solid"}),Object(r.jsx)(h.a,{value:!0,children:"Load File From Local"})]}),Object(r.jsxs)(C.a,{type:"button",className:"btn btn-success btn-block",onClick:function(){return u([])},variant:"contained",color:"primary",children:["Clear ",Object(r.jsx)(v.a,{})]}),Object(r.jsxs)(C.a,{style:{marginRight:"10px",marginLeft:"auto"},variant:"contained",color:"primary",type:"button",className:"btn btn-success btn-block",onClick:function(){var t=new FormData;B([]),q([]);for(var n=0;n<a.length;n++)t.append("file",a[n]);D(!0),K(1),d.a.post("https://168.62.170.209/upfile?distance=".concat(je),t,{}).then((function(t){var n=t.data,r=n.noErrorArr,a=n.errorArr.map((function(t){var n=new File([new Blob([e.from(t.file.data)])],t.filename);return n.mimetype=t.type,n.detection="Number of detected components: ".concat(t.info[1]),n})),c=r.map((function(t){var n=new File([new Blob([e.from(t.file.data)])],t.filename);return n.mimetype=t.type,n.detection="Number of detected components: ".concat(t.info[1]),n}));q(Object(i.a)(c)),B(Object(i.a)(a))})).catch((function(e){K(0)})).then((function(){D(!1)}))},children:["Run ",Object(r.jsx)(y.a,{})]})]}),Object(r.jsx)("div",{className:"body",children:Object(r.jsx)(g.a,{editName:!1,list:a,onDelete:function(e){a.splice(e,1),u(Object(i.a)(a))}})})]}),Object(r.jsx)(x.c,{children:Object(r.jsx)(w.a,{rootUrl:pe(G),listFileError:z,listFileNoError:H})})]})]}):Object(r.jsx)("div",{className:"nav-login",children:Object(r.jsx)(C.a,{variant:"contained",color:"primary",onClick:Oe,children:"Login to continue"})})})]})}}).call(this,n(33).Buffer)},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(12),a=n(2),c=n(8),i=n.n(c),o=n(16),s=n(70),l=(n(191),n(0)),u=n(127),d=n.n(u),j=n(128),b=n.n(j),f=n(69),p=n(85),O=n(44),m=n(30),h=new(n(61))(m),x=function(){var e=Object(o.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="".concat(n).concat("/"===n.charAt(n.length-1)?"":"/"),t.forEach(function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.createFile("".concat(r+t.name),t,t.mimetype.includes("octet-stream")?"image/png":t.mimetype);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new b.a,r=n.folder("images"),t.forEach((function(e){r.file(e.name,e,{type:"blob"})})),e.next=5,n.generateAsync({type:"blob"});case 5:a=e.sent,d.a.saveAs(a,"output.zip");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function y(e){return Object(a.jsxs)("div",{className:"rs",children:[Object(a.jsx)(g,{title:"NO ERROR",fileList:e.listFileNoError,rootUrl:e.rootUrl}),Object(a.jsx)(g,{title:"ERROR",fileList:e.listFileError,rootUrl:e.rootUrl})]})}function g(e){var t=Object(l.useState)(!1),n=Object(r.a)(t,2),c=n[0],i=n[1],o=e.fileList,u=e.rootUrl;return Object(a.jsxs)("div",{className:"rs-list",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)(p.a,{color:"secondary",children:e.title})}),Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(a.jsx)(f.a,{type:"folder",rootUrl:u,isModalOpen:c,modalClose:function(){return i(!1)},modalConfirm:function(e){x(o,e)}}),Object(a.jsx)(O.a,{className:"nav-btn",variant:"contained",color:"primary",onClick:function(){return v(o)},children:"Download"}),Object(a.jsx)(O.a,{className:"nav-btn",variant:"contained",color:"primary",onClick:function(){return i(!0)},children:"Upload To Solid"})]})]}),Object(a.jsx)(s.a,{list:o,editName:!0})]})}},149:function(e,t,n){},154:function(e,t,n){},191:function(e,t,n){},208:function(e,t,n){},209:function(e,t){},211:function(e,t){},218:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),i=n(10),o=n.n(i),s=(n(149),n(119)),l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,276)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(s.a,{})}),document.getElementById("root")),l()},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n(2),a=n(8),c=n.n(a),i=n(16),o=n(12),s=n(0),l=n(269),u=n(129),d=n.n(u),j=n(130),b=n.n(j),f=n(268),p=n(275),O=Object(l.a)((function(e){return{treeViewRoot:{color:"#FF4234",textAlign:"left",maxWidth:500},fileNodeRoot:{color:"#333",backgroundColor:"#6F6",margin:e.spacing(.5)}}})),m=function e(t){var n,a=O(t),c=t.foldersTreeItems,i=t.firstLayer,o=void 0===i||i,s=t.onSelectNode;if(c){var l=c.url,u="folder"===c.type,j=o?l:function(e){return e.endsWith("/")?e.split("/").reverse()[1]:e.split("/").reverse()[0]}(l),m=u?Object(r.jsx)(p.a,{nodeId:l,label:j,children:c.children.map((function(t){return Object(r.jsx)(e,{onSelectNode:s,foldersTreeItems:t,firstLayer:!1})}))},l):Object(r.jsx)(p.a,{nodeId:l,label:j,classes:{root:a.fileNodeRoot}},l);return o?(n=m,Object(r.jsx)(f.a,{className:a.treeViewRoot,defaultCollapseIcon:Object(r.jsx)(d.a,{}),defaultExpandIcon:Object(r.jsx)(b.a,{}),onNodeSelect:s,children:n})):m}return null},h=n(44),x=n(64),v=n.n(x),y=n(272),g=n(273),w=n(220),N=n(23),S=n(30),k=n(61),C=new k(S),F=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.itemExists(t);case 3:if(!e.sent){e.next=8;break}return e.next=6,C.readFolder(t,{links:k.LINKS.EXCLUDE});case 6:return n=e.sent,e.abrupt("return",n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:return n=e.sent,e.t0=t,e.t1=[],e.t2=N.a,e.next=8,Promise.all(null===n||void 0===n?void 0:n.folders.map((function(e){return L(e.url)})));case 8:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=Object(N.a)(null===n||void 0===n?void 0:n.files.map((function(e){return{type:"file",access:"public",url:e.url}}))),e.t6=e.t1.concat.call(e.t1,e.t4,e.t5),r={type:"folder",access:"public",url:e.t0,children:e.t6},e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=(n(208),n(30)),I=new(n(61))(R),E={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function U(e){var t=Object(s.useState)(),n=Object(o.a)(t,2),a=n[0],l=n[1],u=Object(s.useState)(),d=Object(o.a)(u,2),j=d[0],b=d[1],f=Object(s.useState)(),p=Object(o.a)(f,2),O=p[0],x=p[1],N=Object(s.useState)(!1),S=Object(o.a)(N,2),k=S[0],C=S[1],F=Object(s.useState)(!1),R=Object(o.a)(F,2),U=R[0],A=R[1],D=Object(s.useState)(""),P=Object(o.a)(D,2),T=P[0],z=P[1],B=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:n=e.sent,l(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){B(e.rootUrl),console.log(e.type),z("You should choose a ".concat("file"===e.type?"file":"folder!"))}),[]),Object(r.jsx)("div",{children:Object(r.jsx)(v.a,{ariaHideApp:!1,style:E,isOpen:e.isModalOpen,onRequestClose:function(){return e.modalClose()},children:Object(r.jsxs)("div",{className:"solid-modal",children:[Object(r.jsx)(g.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:U,autoHideDuration:2e3,onClose:function(){return A(!1)},children:Object(r.jsx)(y.a,{severity:k&&k?"error":"success",children:T})}),Object(r.jsx)("div",{className:"solid-modal-tree",children:Object(r.jsx)(m,{foldersTreeItems:a,onSelectNode:function(e,t){b(t)}})}),Object(r.jsx)(h.a,{className:"solid-button-confirm",variant:"contained",color:"secondary",maxW:!0,onClick:Object(i.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j){t.next=4;break}return C(!0),A(!0),t.abrupt("return");case 4:return t.next=6,I.head(j);case 6:if(n=t.sent,r="/"===n.url.charAt(n.url.length-1)?"folder":"file",e.type===r){t.next=12;break}return C(!0),A(!0),t.abrupt("return");case 12:x(!0),e.modalConfirm(j),B(e.rootUrl).then((function(){x(!1),C(!1),z("Success"),A(!0)}));case 15:case"end":return t.stop()}}),t)}))),children:O?Object(r.jsx)(w.a,{color:"inherit"}):"CONFIRM"})]})})})}},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(2),a=n(12),c=(n(98),n(0)),i=n(274),o=n(64),s=n.n(o),l=n(226),u=n(219),d=(n(184),n(44)),j=n(265),b=n(220),f=n(266),p=n(267),O={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function m(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),o=n[0],m=n[1],h=Object(c.useState)(!1),x=Object(a.a)(h,2),v=x[0],y=x[1],g=Object(c.useState)(""),w=Object(a.a)(g,2),N=w[0],S=w[1],k=Object(c.useState)(""),C=Object(a.a)(k,2),F=C[0],L=C[1],R=Object(c.useState)(!1),I=Object(a.a)(R,2),E=I[0],U=I[1],A=e.file,D=new FileReader;D.readAsDataURL(A),D.onloadend=function(e){m(D.result),S(A.name)};return null!==o?Object(r.jsxs)("div",{className:"u-item",children:[Object(r.jsxs)(s.a,{style:O,ariaHideApp:!1,isOpen:E,onRequestClose:function(){L(N),U(!1)},children:[Object(r.jsx)(l.a,{className:"nav-e",htmlFor:"modalFileName",children:"Name"}),Object(r.jsx)(u.a,{id:"modalFileName",className:"nav-e",style:{width:"200px"},value:F,onChange:function(e){L(e.target.value)},"aria-describedby":"standard-weight-helper-text",inputProps:{"aria-label":"Name"}}),Object(r.jsx)(d.a,{className:"nav-name",variant:"contained",color:"secondary",onClick:function(){return e=F,Object.defineProperty(A,"name",{writable:!0,value:e}),Object.defineProperty(A,"originalname",{writable:!0,value:e}),console.log(A),S(e),L(e),void U(!1);var e},children:"Save"})]}),Object(r.jsxs)("div",{className:"u-edit",children:[!0===e.editName?Object(r.jsx)("div",{className:"u-edit-button",children:Object(r.jsx)(j.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){L(N),U(!0)},children:Object(r.jsx)(f.a,{})})}):Object(r.jsx)("div",{}),e.delete?Object(r.jsx)("div",{className:"u-edit-button",children:Object(r.jsx)(j.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){return e.onDelete()},children:Object(r.jsx)(p.a,{})})}):Object(r.jsx)("div",{})]}),Object(r.jsx)("div",{children:Object(r.jsx)(i.a,{isZoomed:v,onZoomChange:function(e){return y(e)},children:Object(r.jsxs)("div",{className:"u-zoom",children:[Object(r.jsx)("img",{className:"u-img",alt:"",src:o}),Object(r.jsxs)("div",{className:"u-title",children:["Name: ",N]}),A.detection?Object(r.jsx)("div",{className:"u-title",children:A.detection}):Object(r.jsx)("div",{})]})})})]}):Object(r.jsx)("div",{className:"progress",children:Object(r.jsx)(b.a,{size:"100px",color:"secondary"})})}function h(e){return Object(r.jsx)("div",{className:"u-container",children:e.list.map((function(t,n){return Object(r.jsx)(m,{file:t,onDelete:function(){return e.onDelete(n)},delete:void 0!==e.onDelete,editName:e.editName},"".concat(n))}))})}},98:function(e,t,n){}},[[218,1,2]]]);
//# sourceMappingURL=main.732b1e8f.chunk.js.map